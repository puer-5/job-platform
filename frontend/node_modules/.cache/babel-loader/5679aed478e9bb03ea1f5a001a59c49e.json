{"remainingRequest":"E:\\微服务开发实验\\期末项目\\job-platform\\frontend\\node_modules\\babel-loader\\lib\\index.js!E:\\微服务开发实验\\期末项目\\job-platform\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\微服务开发实验\\期末项目\\job-platform\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\微服务开发实验\\期末项目\\job-platform\\frontend\\src\\views\\SeekerResumeManage.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\微服务开发实验\\期末项目\\job-platform\\frontend\\src\\views\\SeekerResumeManage.vue","mtime":1750255031569},{"path":"E:\\微服务开发实验\\期末项目\\job-platform\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1750207403375},{"path":"E:\\微服务开发实验\\期末项目\\job-platform\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1750207405237},{"path":"E:\\微服务开发实验\\期末项目\\job-platform\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1750207403375},{"path":"E:\\微服务开发实验\\期末项目\\job-platform\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1750207406160}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdTZWVrZXJSZXN1bWVNYW5hZ2UnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZXN1bWU6IG51bGwsCiAgICAgIC8vIOWPquWtmOS4gOS7veeugOWOhgogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgc2F2aW5nOiBmYWxzZSwKICAgICAgZGlhbG9nRm9ybTogewogICAgICAgIGlkOiBudWxsLAogICAgICAgIHRpdGxlOiAnJywKICAgICAgICBleHBlcmllbmNlU3VtbWFyeTogJycsCiAgICAgICAgZWR1Y2F0aW9uRGV0YWlsczogJycsCiAgICAgICAgc2tpbGxzOiAnJywKICAgICAgICBpc0RlZmF1bHQ6IGZhbHNlCiAgICAgIH0sCiAgICAgIGVkdWNhdGlvbkxpc3Q6IFtdLAogICAgICBza2lsbHNMaXN0OiBbXSwKICAgICAgc2tpbGxJbnB1dFZpc2libGU6IGZhbHNlLAogICAgICBza2lsbElucHV0VmFsdWU6ICcnLAogICAgICBydWxlczogewogICAgICAgIHRpdGxlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl566A5Y6G5qCH6aKYJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGV4cGVyaWVuY2VTdW1tYXJ5OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl57uP6aqM5oC757uTJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGpvYlNlZWtlcklkOiBudWxsCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuam9iU2Vla2VySWQgPSBKU09OLnBhcnNlKGF0b2IobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykuc3BsaXQoJy4nKVsxXSkpLnVzZXJJZDsKICAgIHRoaXMuZmV0Y2hSZXN1bWUoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGZldGNoUmVzdW1lKCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KGAvcmVzdW1lcy9qb2JzZWVrZXIvJHt0aGlzLmpvYlNlZWtlcklkfWApOwogICAgICAgIHRoaXMucmVzdW1lID0gcmVzcG9uc2UuZGF0YSAmJiByZXNwb25zZS5kYXRhLmxlbmd0aCA+IDAgPyByZXNwb25zZS5kYXRhWzBdIDogbnVsbDsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB0aGlzLnJlc3VtZSA9IG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBvcGVuRGlhbG9nKHJlc3VtZSA9IG51bGwpIHsKICAgICAgdGhpcy5kaWFsb2dGb3JtID0gcmVzdW1lID8gewogICAgICAgIC4uLnJlc3VtZQogICAgICB9IDogewogICAgICAgIGlkOiBudWxsLAogICAgICAgIHRpdGxlOiAnJywKICAgICAgICBleHBlcmllbmNlU3VtbWFyeTogJycsCiAgICAgICAgZWR1Y2F0aW9uRGV0YWlsczogJycsCiAgICAgICAgc2tpbGxzOiAnJywKICAgICAgICBpc0RlZmF1bHQ6IGZhbHNlCiAgICAgIH07CiAgICAgIC8vIOWIneWni+WMluaVmeiCsuiDjOaZrwogICAgICB0aGlzLmVkdWNhdGlvbkxpc3QgPSBbXTsKICAgICAgaWYgKHJlc3VtZSAmJiByZXN1bWUuZWR1Y2F0aW9uRGV0YWlscykgewogICAgICAgIHRyeSB7CiAgICAgICAgICBjb25zdCBlZHVjYXRpb25EYXRhID0gSlNPTi5wYXJzZShyZXN1bWUuZWR1Y2F0aW9uRGV0YWlscyk7CiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShlZHVjYXRpb25EYXRhKSkgewogICAgICAgICAgICB0aGlzLmVkdWNhdGlvbkxpc3QgPSBlZHVjYXRpb25EYXRhOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAgIH0KICAgICAgaWYgKHRoaXMuZWR1Y2F0aW9uTGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICB0aGlzLmFkZEVkdWNhdGlvbigpOwogICAgICB9CiAgICAgIC8vIOWIneWni+WMluaKgOiDvQogICAgICB0aGlzLnNraWxsc0xpc3QgPSBbXTsKICAgICAgaWYgKHJlc3VtZSAmJiByZXN1bWUuc2tpbGxzKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNvbnN0IHNraWxsc0RhdGEgPSBKU09OLnBhcnNlKHJlc3VtZS5za2lsbHMpOwogICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2tpbGxzRGF0YSkpIHsKICAgICAgICAgICAgdGhpcy5za2lsbHNMaXN0ID0gc2tpbGxzRGF0YTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICB9CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgYWRkRWR1Y2F0aW9uKCkgewogICAgICB0aGlzLmVkdWNhdGlvbkxpc3QucHVzaCh7CiAgICAgICAgc2Nob29sOiAnJywKICAgICAgICBtYWpvcjogJycsCiAgICAgICAgZGVncmVlOiAnJywKICAgICAgICBncmFkdWF0aW9uRGF0ZTogJycKICAgICAgfSk7CiAgICB9LAogICAgcmVtb3ZlRWR1Y2F0aW9uKGluZGV4KSB7CiAgICAgIHRoaXMuZWR1Y2F0aW9uTGlzdC5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSwKICAgIHNob3dTa2lsbElucHV0KCkgewogICAgICB0aGlzLnNraWxsSW5wdXRWaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuJHJlZnMuc2tpbGxJbnB1dC4kcmVmcy5pbnB1dC5mb2N1cygpOwogICAgICB9KTsKICAgIH0sCiAgICBjb25maXJtU2tpbGwoKSB7CiAgICAgIGlmICh0aGlzLnNraWxsSW5wdXRWYWx1ZS50cmltKCkpIHsKICAgICAgICB0aGlzLnNraWxsc0xpc3QucHVzaCh0aGlzLnNraWxsSW5wdXRWYWx1ZS50cmltKCkpOwogICAgICB9CiAgICAgIHRoaXMuc2tpbGxJbnB1dFZpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy5za2lsbElucHV0VmFsdWUgPSAnJzsKICAgIH0sCiAgICByZW1vdmVTa2lsbChpbmRleCkgewogICAgICB0aGlzLnNraWxsc0xpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgIH0sCiAgICBoYW5kbGVEaWFsb2dDbG9zZSgpIHsKICAgICAgdGhpcy4kY29uZmlybSgn56Gu5a6a6KaB5YWz6Zet5ZCX77yf5pyq5L+d5a2Y55qE5YaF5a655bCG5Lii5aSxJywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIHRoaXMuJHJlZnMucmVzdW1lRm9ybS5yZXNldEZpZWxkcygpOwogICAgICAgIHRoaXMuZWR1Y2F0aW9uTGlzdCA9IFtdOwogICAgICAgIHRoaXMuc2tpbGxzTGlzdCA9IFtdOwogICAgICB9KS5jYXRjaCgoKSA9PiB7fSk7CiAgICB9LAogICAgYXN5bmMgc2F2ZVJlc3VtZSgpIHsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCB0aGlzLiRyZWZzLnJlc3VtZUZvcm0udmFsaWRhdGUoKTsKICAgICAgICB0aGlzLnNhdmluZyA9IHRydWU7CiAgICAgICAgY29uc3Qgc2F2ZURhdGEgPSB7CiAgICAgICAgICAuLi50aGlzLmRpYWxvZ0Zvcm0sCiAgICAgICAgICBlZHVjYXRpb25EZXRhaWxzOiBKU09OLnN0cmluZ2lmeSh0aGlzLmVkdWNhdGlvbkxpc3QuZmlsdGVyKGVkdSA9PiBlZHUuc2Nob29sICYmIGVkdS5tYWpvcikpLAogICAgICAgICAgc2tpbGxzOiBKU09OLnN0cmluZ2lmeSh0aGlzLnNraWxsc0xpc3QpCiAgICAgICAgfTsKICAgICAgICBpZiAodGhpcy5kaWFsb2dGb3JtLmlkKSB7CiAgICAgICAgICBhd2FpdCBheGlvcy5wdXQoYC9yZXN1bWVzLyR7dGhpcy5kaWFsb2dGb3JtLmlkfWAsIHNhdmVEYXRhKTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn566A5Y6G5pu05paw5oiQ5YqfJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnN0IG5ld1Jlc3VtZSA9IHsKICAgICAgICAgICAgLi4uc2F2ZURhdGEsCiAgICAgICAgICAgIGpvYlNlZWtlcklkOiB0aGlzLmpvYlNlZWtlcklkCiAgICAgICAgICB9OwogICAgICAgICAgYXdhaXQgYXhpb3MucG9zdCgnL3Jlc3VtZXMnLCBuZXdSZXN1bWUpOwogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfnroDljobliJvlu7rmiJDlip8nKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgdGhpcy5mZXRjaFJlc3VtZSgpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGlmIChlcnJvciAhPT0gJ2NhbmNlbCcpIHsKICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmRhdGEgJiYgZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlID8gZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlIDogZXJyb3IubWVzc2FnZTsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S/neWtmOeugOWOhuWksei0pTogJyArIGVycm9yTWVzc2FnZSk7CiAgICAgICAgfQogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRoaXMuc2F2aW5nID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBkZWxldGVSZXN1bWUoaWQpIHsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCB0aGlzLiRjb25maXJtKCfnoa7lrpropoHliKDpmaTov5nku73nroDljoblkJfvvJ/liKDpmaTlkI7ml6Dms5XmgaLlpI0nLCAn56Gu6K6k5Yig6ZmkJywgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICB9KTsKICAgICAgICBhd2FpdCBheGlvcy5kZWxldGUoYC9yZXN1bWVzLyR7aWR9YCk7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfnroDljobliKDpmaTmiJDlip8nKTsKICAgICAgICB0aGlzLmZldGNoUmVzdW1lKCk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgaWYgKGVycm9yICE9PSAnY2FuY2VsJykgewogICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2UuZGF0YSAmJiBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UgPyBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UgOiBlcnJvci5tZXNzYWdlOwogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5Yig6Zmk566A5Y6G5aSx6LSlOiAnICsgZXJyb3JNZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBmb3JtYXREYXRlKGRhdGVTdHJpbmcpIHsKICAgICAgaWYgKCFkYXRlU3RyaW5nKSByZXR1cm4gJyc7CiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyaW5nKTsKICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVTdHJpbmcoJ3poLUNOJyk7CiAgICB9LAogICAgZm9ybWF0SnNvbkNvbnRlbnQoY29udGVudCkgewogICAgICBpZiAoIWNvbnRlbnQpIHJldHVybiAnJzsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKGNvbnRlbnQpOwogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZCkpIHsKICAgICAgICAgIGlmIChwYXJzZWQubGVuZ3RoID4gMCAmJiB0eXBlb2YgcGFyc2VkWzBdID09PSAnb2JqZWN0JykgewogICAgICAgICAgICByZXR1cm4gcGFyc2VkLm1hcChlZHUgPT4gYDxkaXY+4oCiICR7ZWR1LnNjaG9vbH0gLSAke2VkdS5tYWpvcn0gLSAke2VkdS5kZWdyZWV9IC0gJHtlZHUuZ3JhZHVhdGlvbkRhdGUgfHwgJ+WcqOivuyd9PC9kaXY+YCkuam9pbignJyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gcGFyc2VkLm1hcChza2lsbCA9PiBgPGRpdj7igKIgJHtza2lsbH08L2Rpdj5gKS5qb2luKCcnKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwYXJzZWQgPT09ICdvYmplY3QnKSB7CiAgICAgICAgICByZXR1cm4gT2JqZWN0LmVudHJpZXMocGFyc2VkKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gYDxkaXY+PHN0cm9uZz4ke2tleX06PC9zdHJvbmc+ICR7dmFsdWV9PC9kaXY+YCkuam9pbignJyk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBwYXJzZWQ7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByZXR1cm4gY29udGVudC5yZXBsYWNlKC9cbi9nLCAnPGJyPicpOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["axios","name","data","resume","dialogVisible","saving","dialogForm","id","title","experienceSummary","educationDetails","skills","isDefault","educationList","skillsList","skillInputVisible","skillInputValue","rules","required","message","trigger","jobSeekerId","mounted","JSON","parse","atob","localStorage","getItem","split","userId","fetchResume","methods","response","get","length","error","openDialog","educationData","Array","isArray","e","addEducation","skillsData","push","school","major","degree","graduationDate","removeEducation","index","splice","showSkillInput","$nextTick","$refs","skillInput","input","focus","confirmSkill","trim","removeSkill","handleDialogClose","$confirm","confirmButtonText","cancelButtonText","type","then","resumeForm","resetFields","catch","saveResume","validate","saveData","stringify","filter","edu","put","$message","success","newResume","post","errorMessage","deleteResume","delete","formatDate","dateString","date","Date","toLocaleString","formatJsonContent","content","parsed","map","join","skill","Object","entries","key","value","replace"],"sources":["src/views/SeekerResumeManage.vue"],"sourcesContent":["<template>\r\n  <div class=\"resume-container\">\r\n    <div v-if=\"resume\">\r\n      <!-- 简历内容展示 -->\r\n      <div class=\"resume-content\">\r\n        <h3>{{ resume.title }}</h3>\r\n        <div class=\"resume-summary\">\r\n          <p>{{ resume.experienceSummary }}</p>\r\n        </div>\r\n        <div class=\"resume-sections\">\r\n          <div v-if=\"resume.educationDetails\" class=\"section\">\r\n            <h4>教育背景</h4>\r\n            <div v-html=\"formatJsonContent(resume.educationDetails)\"></div>\r\n          </div>\r\n          <div v-if=\"resume.skills\" class=\"section\">\r\n            <h4>技能特长</h4>\r\n            <div v-html=\"formatJsonContent(resume.skills)\"></div>\r\n          </div>\r\n        </div>\r\n        <div class=\"resume-footer\">\r\n          <span class=\"create-time\">创建时间：{{ formatDate(resume.createdAt) }}</span>\r\n        </div>\r\n      </div>\r\n      <!-- 操作按钮 -->\r\n      <div class=\"resume-actions-single\">\r\n        <el-button type=\"primary\" @click=\"openDialog(resume)\">编辑</el-button>\r\n        <el-button type=\"danger\" @click=\"deleteResume(resume.id)\">删除</el-button>\r\n      </div>\r\n    </div>\r\n    <div v-else class=\"empty-state\">\r\n      <i class=\"el-icon-document\"></i>\r\n      <p>暂无简历</p>\r\n      <el-button type=\"primary\" @click=\"openDialog()\">新增简历</el-button>\r\n    </div>\r\n    <!-- 编辑/新增弹窗 -->\r\n    <el-dialog \r\n      :title=\"dialogForm.id ? '编辑简历' : '新增简历'\" \r\n      :visible.sync=\"dialogVisible\" \r\n      width=\"800px\"\r\n      :before-close=\"handleDialogClose\"\r\n    >\r\n      <el-form :model=\"dialogForm\" :rules=\"rules\" ref=\"resumeForm\" label-width=\"100px\">\r\n        <el-form-item label=\"简历标题\" prop=\"title\">\r\n          <el-input v-model=\"dialogForm.title\" placeholder=\"请输入简历标题\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"经验总结\" prop=\"experienceSummary\">\r\n          <el-input \r\n            type=\"textarea\" \r\n            v-model=\"dialogForm.experienceSummary\" \r\n            :rows=\"4\"\r\n            placeholder=\"请简要描述您的工作经验和求职意向\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"教育背景\">\r\n          <div class=\"education-form\">\r\n            <div v-for=\"(edu, index) in educationList\" :key=\"index\" class=\"education-item\">\r\n              <el-row :gutter=\"10\">\r\n                <el-col :span=\"6\">\r\n                  <el-input v-model=\"edu.school\" placeholder=\"学校名称\" />\r\n                </el-col>\r\n                <el-col :span=\"6\">\r\n                  <el-input v-model=\"edu.major\" placeholder=\"专业\" />\r\n                </el-col>\r\n                <el-col :span=\"4\">\r\n                  <el-select v-model=\"edu.degree\" placeholder=\"学历\">\r\n                    <el-option label=\"高中\" value=\"高中\" />\r\n                    <el-option label=\"专科\" value=\"专科\" />\r\n                    <el-option label=\"本科\" value=\"本科\" />\r\n                    <el-option label=\"硕士\" value=\"硕士\" />\r\n                    <el-option label=\"博士\" value=\"博士\" />\r\n                  </el-select>\r\n                </el-col>\r\n                <el-col :span=\"4\">\r\n                  <el-date-picker\r\n                    v-model=\"edu.graduationDate\"\r\n                    type=\"date\"\r\n                    placeholder=\"毕业时间\"\r\n                    format=\"yyyy-MM-dd\"\r\n                    value-format=\"yyyy-MM-dd\"\r\n                  />\r\n                </el-col>\r\n                <el-col :span=\"4\">\r\n                  <el-button type=\"danger\" size=\"small\" @click=\"removeEducation(index)\" icon=\"el-icon-delete\">删除</el-button>\r\n                </el-col>\r\n              </el-row>\r\n            </div>\r\n            <el-button type=\"primary\" size=\"small\" @click=\"addEducation\" icon=\"el-icon-plus\">添加教育经历</el-button>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item label=\"技能特长\">\r\n          <div class=\"skills-form\">\r\n            <el-tag\r\n              v-for=\"(skill, index) in skillsList\"\r\n              :key=\"index\"\r\n              closable\r\n              @close=\"removeSkill(index)\"\r\n              style=\"margin-right: 8px; margin-bottom: 8px;\"\r\n            >\r\n              {{ skill }}\r\n            </el-tag>\r\n            <el-input\r\n              v-if=\"skillInputVisible\"\r\n              ref=\"skillInput\"\r\n              v-model=\"skillInputValue\"\r\n              class=\"skill-input\"\r\n              size=\"small\"\r\n              @keyup.enter.native=\"confirmSkill\"\r\n              @blur=\"confirmSkill\"\r\n            />\r\n            <el-button v-else size=\"small\" @click=\"showSkillInput\" icon=\"el-icon-plus\">添加技能</el-button>\r\n          </div>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"handleDialogClose\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"saveResume\" :loading=\"saving\">保存</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'SeekerResumeManage',\r\n  data() {\r\n    return {\r\n      resume: null, // 只存一份简历\r\n      dialogVisible: false,\r\n      saving: false,\r\n      dialogForm: {\r\n        id: null,\r\n        title: '',\r\n        experienceSummary: '',\r\n        educationDetails: '',\r\n        skills: '',\r\n        isDefault: false\r\n      },\r\n      educationList: [],\r\n      skillsList: [],\r\n      skillInputVisible: false,\r\n      skillInputValue: '',\r\n      rules: {\r\n        title: [\r\n          { required: true, message: '请输入简历标题', trigger: 'blur' }\r\n        ],\r\n        experienceSummary: [\r\n          { required: true, message: '请输入经验总结', trigger: 'blur' }\r\n        ]\r\n      },\r\n      jobSeekerId: null\r\n    };\r\n  },\r\n  mounted() {\r\n    this.jobSeekerId = JSON.parse(atob(localStorage.getItem('token').split('.')[1])).userId;\r\n    this.fetchResume();\r\n  },\r\n  methods: {\r\n    async fetchResume() {\r\n      try {\r\n        const response = await axios.get(`/resumes/jobseeker/${this.jobSeekerId}`);\r\n        this.resume = response.data && response.data.length > 0 ? response.data[0] : null;\r\n      } catch (error) {\r\n        this.resume = null;\r\n      }\r\n    },\r\n    openDialog(resume = null) {\r\n      this.dialogForm = resume\r\n        ? { ...resume }\r\n        : { id: null, title: '', experienceSummary: '', educationDetails: '', skills: '', isDefault: false };\r\n      // 初始化教育背景\r\n      this.educationList = [];\r\n      if (resume && resume.educationDetails) {\r\n        try {\r\n          const educationData = JSON.parse(resume.educationDetails);\r\n          if (Array.isArray(educationData)) {\r\n            this.educationList = educationData;\r\n          }\r\n        } catch (e) {}\r\n      }\r\n      if (this.educationList.length === 0) {\r\n        this.addEducation();\r\n      }\r\n      // 初始化技能\r\n      this.skillsList = [];\r\n      if (resume && resume.skills) {\r\n        try {\r\n          const skillsData = JSON.parse(resume.skills);\r\n          if (Array.isArray(skillsData)) {\r\n            this.skillsList = skillsData;\r\n          }\r\n        } catch (e) {}\r\n      }\r\n      this.dialogVisible = true;\r\n    },\r\n    addEducation() {\r\n      this.educationList.push({ school: '', major: '', degree: '', graduationDate: '' });\r\n    },\r\n    removeEducation(index) {\r\n      this.educationList.splice(index, 1);\r\n    },\r\n    showSkillInput() {\r\n      this.skillInputVisible = true;\r\n      this.$nextTick(() => {\r\n        this.$refs.skillInput.$refs.input.focus();\r\n      });\r\n    },\r\n    confirmSkill() {\r\n      if (this.skillInputValue.trim()) {\r\n        this.skillsList.push(this.skillInputValue.trim());\r\n      }\r\n      this.skillInputVisible = false;\r\n      this.skillInputValue = '';\r\n    },\r\n    removeSkill(index) {\r\n      this.skillsList.splice(index, 1);\r\n    },\r\n    handleDialogClose() {\r\n      this.$confirm('确定要关闭吗？未保存的内容将丢失', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.dialogVisible = false;\r\n        this.$refs.resumeForm.resetFields();\r\n        this.educationList = [];\r\n        this.skillsList = [];\r\n      }).catch(() => {});\r\n    },\r\n    async saveResume() {\r\n      try {\r\n        await this.$refs.resumeForm.validate();\r\n        this.saving = true;\r\n        const saveData = {\r\n          ...this.dialogForm,\r\n          educationDetails: JSON.stringify(this.educationList.filter(edu => edu.school && edu.major)),\r\n          skills: JSON.stringify(this.skillsList)\r\n        };\r\n        if (this.dialogForm.id) {\r\n          await axios.put(`/resumes/${this.dialogForm.id}`, saveData);\r\n          this.$message.success('简历更新成功');\r\n        } else {\r\n          const newResume = {\r\n            ...saveData,\r\n            jobSeekerId: this.jobSeekerId\r\n          };\r\n          await axios.post('/resumes', newResume);\r\n          this.$message.success('简历创建成功');\r\n        }\r\n        this.dialogVisible = false;\r\n        this.fetchResume();\r\n      } catch (error) {\r\n        if (error !== 'cancel') {\r\n          const errorMessage = error.response && error.response.data && error.response.data.message \r\n            ? error.response.data.message \r\n            : error.message;\r\n          this.$message.error('保存简历失败: ' + errorMessage);\r\n        }\r\n      } finally {\r\n        this.saving = false;\r\n      }\r\n    },\r\n    async deleteResume(id) {\r\n      try {\r\n        await this.$confirm('确定要删除这份简历吗？删除后无法恢复', '确认删除', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        });\r\n        await axios.delete(`/resumes/${id}`);\r\n        this.$message.success('简历删除成功');\r\n        this.fetchResume();\r\n      } catch (error) {\r\n        if (error !== 'cancel') {\r\n          const errorMessage = error.response && error.response.data && error.response.data.message \r\n            ? error.response.data.message \r\n            : error.message;\r\n          this.$message.error('删除简历失败: ' + errorMessage);\r\n        }\r\n      }\r\n    },\r\n    formatDate(dateString) {\r\n      if (!dateString) return '';\r\n      const date = new Date(dateString);\r\n      return date.toLocaleString('zh-CN');\r\n    },\r\n    formatJsonContent(content) {\r\n      if (!content) return '';\r\n      try {\r\n        const parsed = JSON.parse(content);\r\n        if (Array.isArray(parsed)) {\r\n          if (parsed.length > 0 && typeof parsed[0] === 'object') {\r\n            return parsed.map(edu => \r\n              `<div>• ${edu.school} - ${edu.major} - ${edu.degree} - ${edu.graduationDate || '在读'}</div>`\r\n            ).join('');\r\n          } else {\r\n            return parsed.map(skill => `<div>• ${skill}</div>`).join('');\r\n          }\r\n        } else if (typeof parsed === 'object') {\r\n          return Object.entries(parsed).map(([key, value]) => \r\n            `<div><strong>${key}:</strong> ${value}</div>`\r\n          ).join('');\r\n        }\r\n        return parsed;\r\n      } catch (e) {\r\n        return content.replace(/\\n/g, '<br>');\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.resume-container {\r\n  padding: 20px;\r\n}\r\n.resume-content {\r\n  margin-bottom: 15px;\r\n}\r\n.resume-actions-single {\r\n  display: flex;\r\n  gap: 16px;\r\n  margin-top: 20px;\r\n}\r\n.empty-state {\r\n  text-align: center;\r\n  padding: 60px 20px;\r\n  color: #909399;\r\n}\r\n.empty-state i {\r\n  font-size: 64px;\r\n  margin-bottom: 20px;\r\n  color: #c0c4cc;\r\n}\r\n.empty-state p {\r\n  margin: 0 0 20px 0;\r\n  font-size: 16px;\r\n}\r\n.education-form {\r\n  border: 1px solid #dcdfe6;\r\n  border-radius: 4px;\r\n  padding: 15px;\r\n  background: #fafafa;\r\n}\r\n.education-item {\r\n  margin-bottom: 15px;\r\n  padding: 10px;\r\n  border: 1px solid #e4e7ed;\r\n  border-radius: 4px;\r\n  background: white;\r\n}\r\n.education-item:last-child {\r\n  margin-bottom: 10px;\r\n}\r\n.skills-form {\r\n  min-height: 40px;\r\n  padding: 5px;\r\n  border: 1px solid #dcdfe6;\r\n  border-radius: 4px;\r\n  background: white;\r\n}\r\n.skill-input {\r\n  width: 100px;\r\n  margin-right: 8px;\r\n  margin-bottom: 8px;\r\n}\r\n.dialog-footer {\r\n  text-align: right;\r\n}\r\n.resume-footer {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding-top: 15px;\r\n  border-top: 1px solid #ebeef5;\r\n  color: #909399;\r\n  font-size: 12px;\r\n}\r\n.section {\r\n  padding: 10px;\r\n  border: 1px solid #ebeef5;\r\n  border-radius: 4px;\r\n  margin-bottom: 10px;\r\n}\r\n.section h4 {\r\n  margin: 0 0 10px 0;\r\n  color: #303133;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n}\r\n.section div {\r\n  color: #606266;\r\n  line-height: 1.6;\r\n  font-size: 13px;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}